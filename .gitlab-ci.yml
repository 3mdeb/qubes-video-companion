# Copyright (C) 2021 Elliot Killick <elliotkillick@zohomail.eu>
# Licensed under the MIT License. See LICENSE file for details.

stages:
  - Static Analysis

shellcheck:
  image: koalaman/shellcheck:latest
  stage: Static Analysis
  before_script:
    - shellcheck --version
    - apt-get update
    - apt-get -y install bash
    - bash --version
  script:
    - bash -c 'shopt -s globstar nullglob; shellcheck --external-sources --source-path=SCRIPTDIR **/*.sh'

pylint:
  image: python:latest
  stage: Static Analysis
  before_script:
    - python --version
    - pip --version
    - pip install pylint
    - pylint --version
    - pip install -r ci/requirements.txt
  script:
    - bash -c 'shopt -s globstar nullglob; pylint --exit-zero **/*.py'
